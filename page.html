<html>

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="JS/page.js" type="text/javascript"></script>
<script>
  document.addEventListener('DOMContentLoaded',init);

var input = '';
var order = '';
var price = 0;
var imgorder = '';
var i = 0;
var accept = 0;

function init()
{
  var top = document.getElementById("header").offsetTop;
  window.scrollTo(top, 0);
  $(':input').prop('disabled',true);
  document.getElementById("MilkTea").disabled = false;
  document.getElementById("GreenTea").disabled = false;
  document.getElementById("cancel1").disabled = false;
  document.getElementById("baht").disabled = false;
  document.getElementById("next").disabled = false;
  showdata();
}

function gotoSugar(drink) {
  input += drink;
  if (drink === '0')
  {
    order += 'Milk Tea';
    imgorder = 'image/mb1.png'
  }
  else if (drink === '1')
  {
    order += 'Green Tea';
    imgorder = 'image/mb2.png'
  }

  document.getElementById("MilkTea").disabled = true;
  document.getElementById("GreenTea").disabled = true;
  document.getElementById("cancel1").disabled = true;

  document.getElementById("100").disabled = false;
  document.getElementById("50").disabled = false;
  document.getElementById("cancel2").disabled = false;

  var top = document.getElementById('sugar').offsetTop;
  window.scrollTo(0, top);
  showdata();
}


function gotoBubble(sugar) {
  input += sugar;
  if (sugar === '0')
  {
    order += ' 100%';
  }
  else if (sugar === '1')
  {
    order += ' 50%';
  }
  document.getElementById("100").disabled = true;
  document.getElementById("50").disabled = true;
  document.getElementById("cancel2").disabled = true;
  
  document.getElementById("Add").disabled = false;
  document.getElementById("NotAdd").disabled = false;
  document.getElementById("cancel3").disabled = false;

  var top = document.getElementById('bubble').offsetTop;
  window.scrollTo(0, top);
  showdata();
}

function gotoPayment(bubble) {
  input += bubble;
  if (bubble === '0')
  {
    order += ' Add bubble';
    price = 30;
  }
  else if(bubble === '1')
  {
    order += ' Not Add bubble';
    price = 20;
  }
  document.getElementById("Add").disabled = true;
  document.getElementById("NotAdd").disabled = true;
  document.getElementById("cancel3").disabled = true;

  document.getElementById("cancel4").disabled = false;

  document.getElementById("priceElement").innerHTML = price;
  document.getElementById("currentPriceElement").innerHTML = price;
  
  var top = document.getElementById('payment').offsetTop;
  window.scrollTo(0, top);
  showdata();
}

function cancel(r) {
  input = '';
  order = '';
  price = 0;
  imgorder = '';
  i = 0;
  accept = 0;

  document.getElementById("order").innerHTML = '';
  init();
}

function pay(c)
{
  input += c;
  showdata();
  if (price > 0)
  {
    price -= 10;
    document.getElementById("currentPriceElement").innerHTML = price;
    if (price === 0)
    {
      orderSuccess();
    }
  }
}

function orderSuccess()
{
  showdata();
  document.getElementById('imageorder').setAttribute("src",imgorder);
  document.getElementById('cancel4').setAttribute("value",'New Order');
  document.getElementById("order").innerHTML = order;
  var top = document.getElementById('cancel4').offsetTop;
  window.scrollTo(0, top);
}

function neworder()
{
  document.getElementById('cancel4').setAttribute("value",'Cancel');
  cancel('r');
}

function compute()
{
  $(':input').prop('disabled',true);
  var next = document.getElementById("next");
  next.disabled = false;
  next.innerHTML = "NEXT";
  next.removeAttribute('onclick');
  initial();
}

function showdata()
{
  document.getElementById("tag5").innerHTML = input;
}

function showinput()
{
  var front = ''
  for (let n=0; n<i; n++)
  {
    front += input.charAt(n);
    console.log(front);
  }
  var after = ''
  for (let n=i+1; n < input.length; n++)
  {
    after += input.charAt(n);
    console.log(after);
  }
  document.getElementById("tag5").innerHTML = front + '<span style= \'color: red\'>' + input.charAt(i) + '</span>' + after;
}

function end()
{
  var next = document.getElementById("next");
  next.innerHTML = "RESET";
  next.setAttribute('onclick',"delend(); cancel()");
  next.style.backgroundColor = 'red';
  var result = document.getElementById("result");
  if (accept === 0)
  {
    result.innerHTML = "NOT ACCEPTED"
  }
  else if (accept === 1)
  {
    result.innerHTML = "ACCEPTED"
  }
}

function delend()
{
  var next = document.getElementById("next");
  next.innerHTML = "COMPUTE";
  next.setAttribute('onclick',"compute()");
  next.style.backgroundColor = '#97d4d7';
  delsecondten();
}

function initial()
{
  document.querySelector("#circle1").style.borderColor = 'red';
  var next = document.getElementById("next");
  if (i > 0)
  {
    showinput();
  }
  if (i < input.length)
  {
    if (input.charAt(i)==='0')
    {
      next.setAttribute('onclick',"delinitial(); milktea()");
    }
    else if (input.charAt(i)==='1')
    {
      next.setAttribute('onclick',"delinitial(); greentea()");
    }
    else if (input.charAt(i) === 'c' || input.charAt(i)=== 'r')
    {
      next.setAttribute('onclick',"delinitial(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delinitial()
{
  document.querySelector("#circle1").style.borderColor = 'gray';
}

function milktea()
{
  document.querySelector("#circle2").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0')
    {
      next.setAttribute('onclick',"delmilktea(); sugar100()");
    }
    else if (input.charAt(i)==='1')
    {
      next.setAttribute('onclick',"delmilktea(); sugar50()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"delmilktea(); milktea()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"delmilktea(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delmilktea()
{
  document.querySelector("#circle2").style.borderColor = 'gray';
}

function greentea()
{
  document.querySelector("#circle6").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0')
    {
      next.setAttribute('onclick',"delgreentea(); sugar100()");
    }
    else if (input.charAt(i)==='1')
    {
      next.setAttribute('onclick',"delgreentea(); sugar50()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"delgreentea(); greentea()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"delgreentea(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delgreentea()
{
  document.querySelector("#circle6").style.borderColor = 'gray';
}

function sugar100()
{
  document.querySelector("#circle3").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0')
    {
      next.setAttribute('onclick',"delsugar100(); add()");
    }
    else if (input.charAt(i)==='1')
    {
      next.setAttribute('onclick',"delsugar100(); notadd()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"delsugar100(); sugar100()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"delsugar100(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delsugar100()
{
  document.querySelector("#circle3").style.borderColor = 'gray';
}

function sugar50()
{
  document.querySelector("#circle7").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0')
    {
      next.setAttribute('onclick',"delsugar50(); add()");
    }
    else if (input.charAt(i)==='1')
    {
      next.setAttribute('onclick',"delsugar50(); notadd()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"delsugar50(); sugar50()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"delsugar50(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delsugar50()
{
  document.querySelector("#circle7").style.borderColor = 'gray';
}

function add()
{
  document.querySelector("#circle4").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0')
    {
      next.setAttribute('onclick',"deladd(); add()");
    }
    else if (input.charAt(i)==='1')
    {
      next.setAttribute('onclick',"deladd(); add()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"deladd(); tenaddbubble()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"deladd(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function deladd()
{
  document.querySelector("#circle4").style.borderColor = 'gray';
}

function notadd()
{
  document.querySelector("#circle8").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0')
    {
      next.setAttribute('onclick',"delnotadd(); notadd()");
    }
    else if (input.charAt(i)==='1')
    {
      next.setAttribute('onclick',"delnotadd(); notadd()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"delnotadd(); firstten()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"delnotadd(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delnotadd()
{
  document.querySelector("#circle8").style.borderColor = 'gray';
}

function tenaddbubble()
{
  document.querySelector("#circle5").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i) === '0' || input.charAt(i)=== '1')
    {
      next.setAttribute('onclick',"deltenaddbubble(); tenaddbubble()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"deltenaddbubble(); firstten()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"deltenaddbubble(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function deltenaddbubble()
{
  document.querySelector("#circle5").style.borderColor = 'gray';
}

function firstten()
{
  document.querySelector("#circle9").style.borderColor = 'red';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0' || input.charAt(i)=== '1')
    {
      next.setAttribute('onclick',"delfirstten(); firstten()");
    }
    else if (input.charAt(i) === 'c')
    {
      next.setAttribute('onclick',"delfirstten(); secondten()");
    }
    else if (input.charAt(i) === 'r')
    {
      next.setAttribute('onclick',"delfirstten(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delfirstten()
{
  document.querySelector("#circle9").style.borderColor = 'gray';
}

function secondten()
{
  accept = 1;
  document.querySelector("#final").style.border = '17px red double';
  var next = document.getElementById("next");
  showinput();
  if (i < input.length)
  {
    if (input.charAt(i)==='0' || input.charAt(i)=== '1' || input.charAt(i)=== 'c')
    {
      next.setAttribute('onclick',"delsecondten(); secondten()");
    }
    else if (input.charAt(i) === 'r')
    {
      accept = 0;
      next.setAttribute('onclick',"delsecondten(); initial()");
    }
  }
  else
  {
    end();
  } 
  i++;
}

function delsecondten(){
  document.querySelector("#final").style.border = '17px gray double';
}

</script>

<head>
  <link rel="stylesheet" href="frame.css">
</head>

<body>

  <div class="header" id="header">
    <h1 style="display: inline;">CHIMCHA</h1>
    <i style="display: inline;">Bubble Tea</i>
  </div>


  <div class="tag1">
    <h2>STEP 1 : Choose Your Drink</h2>
  </div>
  <div class="grid-container">
    <img class="img1" src="image/mb1.png">
    <img class="img1" src="image/mb2.png">
    <input onclick="gotoSugar('0')" type="button" class="button" id="MilkTea" value="Milk Tea" name="drink">
    <input onclick="gotoSugar('1')" type="button" class="button" id="GreenTea" value="Green Tea" name="drink">
    <input onclick="cancel('r')" type="button" class="cancel canbutton canbutton1" id="cancel1" value="Cancel">
  </div>


  <div class="pink" id="sugar">
    <div class="tag2">
      <h2>STEP 2 : % Of Sugar</h2>
    </div>
    <div class="grid-container sugar">
      <img class="img2" src="image/sg2.png">
      <img class="img2" src="image/sg1.png">
      <input onclick="gotoBubble('0')" type="button" class="button2" id="100" value="100%">
      <input onclick="gotoBubble('1')" type="button" class="button2" id="50" value="50%">
      <input onclick="cancel('r')" type="button" class="cancel canbutton canbutton1" id="cancel2" value="Cancel">
      <!-- <button class="cancle canbutton canbutton1">Cancle</button> -->


    </div>
  </div>

  <div class="blank" id="bubble">
    <div class="tag1">
      <h2>STEP 3 : Add Bubble</h2>
    </div>
    <div class="grid-container">
      <img class="img1" src="image/bb1.png">
      <img class="img1" src="image/bb2.png">
      <input onclick="gotoPayment('0')" type="button" class="button" id="Add" value="Add">
      <input onclick="gotoPayment('1')" type="button" class="button" id="NotAdd" value="Not Add">

      <input onclick="cancel('r')" type="button" class="cancel canbutton canbutton1" id="cancel3" value="Cancel">
      <!-- <button class="cancle canbutton canbutton1">Cancle</button> -->
    </div>
  </div>

  <div class="pink" id= "payment">
    <div class="tag2" >
      <h2>Payment</h2>
    </div>
    <div class="grid-container2">
      <!-- <img class="img2" src="image/bt2.png"> -->
      <img class="img2" src="image/bt1.png">
      <div class="pay">
        <h3> ราคา : <span id="priceElement">0</span> Baht</h3>
        <h3>ที่ต้องจ่าย : <span id="currentPriceElement">0</span> Baht</h3>
        <h3 id="warning">เครื่องนี้ไม่คืน/ทอนเหรียญ</h3>
      </div>

      <button onclick="pay('c')" class="button2 button2-1" id="baht" >10 Baht</button>
      <div></div>
      <input onclick="neworder()" type="button" class="cancel canbutton canbutton1" id="cancel4" value="Cancel">
    </div>
  </div>

  <div class="blank">
    <div class="tag1">
      <h2 id="orderSuccess">Order Success</h2>
    </div>
    <div class="grid-container-or">
      <h2 id="order"></h2>
      <img class="img1" src="image/mb1.png" id="imageorder">
      <!-- >>image/mb2.png ชาเขียว -->

    </div>
  </div>


  <div class="gray">
    <div class="tag3">
      <h2>Show Output</h2>
    </div>

    <div class="grid-container-or2">
      <h2 id="tag5"></h2>
      <div id="result"></div>
      <div></div>
      <button onclick="compute()" class="compute combutton combutton1" id="next">COMPUTE</button>
    </div>

    <div class="grid-container-dfa">

      <!-- row1 -->
      <h4></h4>
      <h4></h4>
      <h4><div class="backfromRow3"></div><div style="font-size: 25px; margin-top:-280px; margin-left:280px;">r</div></h4> <!--Back from Add bubble  -->
      <h4><div class="backfromRow4"></div><div style="font-size: 25px; margin-top:-295px; margin-left:295px;">r</div></h4> <!--Back from bubble price -->
      <h4><div class="backfromRow5"></div><div style="font-size: 25px; margin-top:-325px; margin-left:305px;">r</div></h4> <!--back from 20 baht  -->
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>

      <!-- row2 -->
      <h1><div class="backfromRow2"></div><div style="font-size: 25px; margin-top:-260px; margin-left:300px;">r</div></h1> <!-- back from 100 per -->
      <h4><div style="margin-left: 170px; transform: rotate(50deg);" class="loop"></div><div style="font-size: 25px; margin-top:-20px; margin-left:240px;">c</div></h4>
      <h4 id="circle2">Milk Tea</h4>
      <h4><div class="arrow-right"></div><div style="font-size: 25px; margin-top:-45px; margin-left:25px;">0</div></h4>
      <h4 id="circle3">Sugar 100%</h4>
      <h1><div class="arrow-right"></div><div style="font-size: 25px; margin-top:-45px; margin-left:25px;">0</div></h1>
      <h4 id="circle4">Add</h4>
      <h1><div class="arrow-right"></div><div style="font-size: 25px; margin-top:-45px; margin-left:25px;">c</div></h1>
      <h4 id="circle5">10 for Bubble</h4>
      <h1></h1>
      <h4 id="final">Second 10 Baht</h4> 

      <!-- row3 -->
      <h1><div class="backfromRow1"></div><div style="font-size: 25px; margin-top:-120px; margin-left:130px;">r</div></h1> <!--back from milk tea  -->
      <h4><div style="margin-left: -20px; margin-top: 30px; transform: scaleY(-1);" class="arrow60-1"></div><div style="font-size: 25px; margin-top:-90px; margin-left:60px;">0</div></h4>
      <h4><div class="arrow60-2"></div><div style="font-size: 25px; margin-top:-130px; margin-left:115px;">0</div></h4>
      <h4><div style="margin-top: 30px; margin-left: -120px; transform: scaleY(-1);" class="arrow60-2"></div><div style="font-size: 25px; margin-top:-160px; margin-left:70px;">1</div></h4>
      <h4><div class="arrow60-2"></div><div style="font-size: 25px; margin-top:-130px; margin-left:115px;">0</div></h4>
      <h4><div style="margin-top: 30px; margin-left: -120px; transform: scaleY(-1);" class="arrow60-2"></div><div style="font-size: 25px; margin-top:-160px; margin-left:70px;">1</div></h4>
      <h4></h4>
      <h4><div class="arrowdown"></div><div style="font-size: 25px; margin-top:-150px; margin-left:190px;">c</div></h4>
      <h4></h4>
      <!-- <h4><div style="margin-left: 88px;" class="arrowdown"></div><div style="font-size: 25px; margin-top:-150px; margin-left:280px;">0,1,c</div></h4> -->
      <h4><div style="margin-top: 30px; margin-left: -170px; transform: scaleY(-1);" class="arrow60-2"></div><div style="font-size: 25px; margin-top:-160px; margin-left:-55px;">c</div></h4>
      <h4></h4>
         
      <!-- row4 -->
      <h4><div class="initialArrow"></div></h4>
      <h4 id="circle1">Start</h4>
      <h4></h4>
      <h4></h4>
      <h4><div style="margin-top: -200px; margin-left: 50px; transform: rotate(50deg);" class="loop"></div><div style="font-size: 25px; margin-top:-20px; margin-left:120px;">c</div></h4>
      <h4><div style="margin-top: -200px; margin-left: 230px; transform: rotate(50deg);" class="loop"></div><div style="font-size: 25px; margin-top:-20px; margin-left:300px;">0,1</div></h4>
      <h4><div style="margin-top: -200px; margin-left: 350px; transform: rotate(50deg);" class="loop"></div><div style="font-size: 25px; margin-top:-20px; margin-left:420px;">0,1</div></h4>
      <h4><div style="margin-top: -160px; margin-left: 552px; transform: rotate(90deg);" class="loop"></div><div style="font-size: 25px; margin-left:610px;">0,1,c</div></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>

      <!-- row5 -->
      <h4></h4>
      <h4><div style="margin-left: -20px;" class="arrow60-1"></div><div style="font-size: 25px; margin-top:-70px; margin-left:60px;">1</div></h4>
      <h4><div style="margin-top: 100px;" class="loop"></div><div style="font-size: 25px; margin-top:-100px; margin-left:20px;">c</div></h4>
      <h4><div style="margin-top: 100px; margin-left: 170px;" class="loop"></div><div style="font-size: 25px; margin-top:-100px; margin-left:190px;">c</div></h4>
      <h4><div style="margin-top: 100px; margin-left: 280px;" class="loop"></div><div style="font-size: 25px; margin-top:-100px; margin-left:300px;">0,1</div></h4>
      <h4><div style="margin-top: 150px; margin-left: 560px; transform: rotate(90deg);" class="loop"></div><div style="font-size: 25px; margin-top:0px; margin-left:620px;">0,1</div></h4>
      <h4></h4>
      <!-- <h4><div style="margin-top: 230px; margin-left: 600px; transform: rotate(180deg);" class="loop"></div><div style="font-size: 25px; margin-top:40px; margin-left:530px;">0,1,c,r</div></h4> -->
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>

      <!-- row6 -->
      <h4><div style="margin-top: -80px; margin-left: 90px; transform: rotate(200deg);" class="loop"></div><div style="font-size: 25px; margin-left:0px; margin-top: 10px;">c,r</div></h4>
      <h4></h4>
      <h4 id="circle6">Green Tea</h4>
      <h4><div class="arrow-right"></div><div style="font-size: 25px; margin-top:-45px; margin-left:25px;">1</div></h4>
      <h4 id="circle7">Sugar 50%</h4>
      <h4><div class="arrow-right"></div><div style="font-size: 25px; margin-top:-45px; margin-left:25px;">1</div></h4>
      <h4 id="circle8">Not Add</h4>
      <h4><div class="arrow-right"></div><div style="font-size: 25px; margin-top:-45px; margin-left:25px;">c</div></h4>
      <h4 id="circle9">First 10 Baht</h4>
      <h1></h1>
      <h4></h4>

      <!-- row7 -->
      <h4><div style="transform: scaleY(-1); margin-top: -160px;" class="backfromRow1"></div><div style="font-size: 25px; margin-top:-30px; margin-left:130px;">r</div></h4> <!--Back from Cocoa  -->
      <h4><div style="transform: scaleY(-1); margin-top: -150px; margin-left: -110px;" class="backfromRow2"></div><div style="font-size: 25px; margin-top:17px; margin-left:150px;">r</div></h4> <!--Back from 50%--    -->
      <h4><div style="transform: scaleY(-1); margin-top: -115px;" class="backfromRow3"></div><div style="font-size: 25px; margin-top:-25px; margin-left:280px;">r</div></h4> <!--Back from not add bubble   -->
      <h4><div style="transform: scaleY(-1); margin-top: -85px;" class="backfromRow4"></div><div style="font-size: 25px; margin-top:20px; margin-left:305px;">r</div></h4> <!--Back from 10 baht  -->
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>
      <h4></h4>

    </div>
  </div>

  <div class="black">
    <div class="tag2">
      <h2>สมาชิกกลุ่ม</h2>
    </div>
    <div class="grid-container-name">
      <h3>60010549 นางสาวเนตรชนก ปิยะพันธุ์ </h3>
      <h3>60010574 นางสาวปภาวรินท์ เทียนสิงห์ชัย </h3>
      <h3>60010595 นางสาวปวรลักษณ์ อินทร์แสง </h3>
      <h3>60010603 นางสาวปัสกา ชูทอง </h3>
      <h3>60010981 นางสาวศิริวรรณ พัฒสังวาล </h3>
    </div>
  </div>

</body>